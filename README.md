# SimpleShare - ç®€äº«

ä¸€ä¸ªåŸºäºå¤šç§Ÿæˆ·æ¶æ„çš„ç°ä»£åŒ–å†…å®¹åˆ†äº«å¹³å°ï¼Œæ”¯æŒSaaSæ¨¡å¼éƒ¨ç½²ï¼Œä¸ºä¼ä¸šå’Œç»„ç»‡æä¾›ä¸“å±çš„å†…å®¹åˆ†äº«æœåŠ¡ã€‚

## ğŸ“‹ ç›®å½•

- [é¡¹ç›®æ¦‚è¿°](#é¡¹ç›®æ¦‚è¿°)
- [æŠ€æœ¯æ¶æ„](#æŠ€æœ¯æ¶æ„)
- [æ ¸å¿ƒåŠŸèƒ½](#æ ¸å¿ƒåŠŸèƒ½)
- [é¡¹ç›®ç»“æ„](#é¡¹ç›®ç»“æ„)
- [å¿«é€Ÿå¼€å§‹](#å¿«é€Ÿå¼€å§‹)
- [æœ¬åœ°å¼€å‘](#æœ¬åœ°å¼€å‘)
- [éƒ¨ç½²æŒ‡å—](#éƒ¨ç½²æŒ‡å—)
- [ç¯å¢ƒé…ç½®](#ç¯å¢ƒé…ç½®)
- [APIæ–‡æ¡£](#apiæ–‡æ¡£)
- [è´¡çŒ®æŒ‡å—](#è´¡çŒ®æŒ‡å—)
- [è®¸å¯è¯](#è®¸å¯è¯)

## ğŸ¯ é¡¹ç›®æ¦‚è¿°

SimpleShareæ˜¯ä¸€ä¸ªå¤šç§Ÿæˆ·ï¼ˆSaaSï¼‰åŒ–çš„å†…å®¹åˆ†äº«å¹³å°ï¼Œå…·æœ‰ä»¥ä¸‹æ ¸å¿ƒç‰¹æ€§ï¼š

- **å¤šç§Ÿæˆ·æ¶æ„**ï¼šæ”¯æŒå¤šä¸ªç‹¬ç«‹ç§Ÿæˆ·ï¼Œæ•°æ®ä¸¥æ ¼éš”ç¦»ï¼Œé€šè¿‡åŸŸååŒºåˆ†ä¸åŒç§Ÿæˆ·
- **é›†ä¸­å¼å®‰å…¨ç­–ç•¥**ï¼šç§Ÿæˆ·ç®¡ç†å‘˜å¯å…¨å±€æ§åˆ¶å†…å®¹å¤åˆ¶æƒé™å’Œæ°´å°è®¾ç½®
- **ç°ä»£åŒ–ç•Œé¢**ï¼šåŸºäºVue 3 + Element Plusçš„å“åº”å¼è®¾è®¡
- **å¼ºå¤§çš„ç¼–è¾‘å™¨**ï¼šé›†æˆTipTapå¯Œæ–‡æœ¬ç¼–è¾‘å™¨ï¼Œæ”¯æŒMarkdownå’Œå¯Œæ–‡æœ¬
- **çµæ´»çš„æƒé™ç³»ç»Ÿ**ï¼šåŸºäºè§’è‰²çš„è®¿é—®æ§åˆ¶ï¼ˆRBACï¼‰

## ğŸ—ï¸ æŠ€æœ¯æ¶æ„

### åç«¯æŠ€æœ¯æ ˆ
- **æ¡†æ¶**ï¼šSpring Boot 2.7.18
- **å®‰å…¨**ï¼šSpring Security + JWT
- **æ•°æ®åº“**ï¼šMySQL 8.0 + MyBatis-Plus + Druid
- **æ„å»ºå·¥å…·**ï¼šMaven
- **APIæ–‡æ¡£**ï¼šSwagger + Knife4j
- **å¤šç§Ÿæˆ·**ï¼šåŸºäº`tenant_id`å­—æ®µçš„é€»è¾‘éš”ç¦»

### å‰ç«¯æŠ€æœ¯æ ˆ
- **æ¡†æ¶**ï¼šVue 3.5.18 + TypeScript
- **æ„å»ºå·¥å…·**ï¼šVite 7.0.6
- **UIç»„ä»¶**ï¼šElement Plus 2.11.2
- **çŠ¶æ€ç®¡ç†**ï¼šPinia 3.0.3
- **è·¯ç”±**ï¼šVue Router 4.5.1
- **æ ·å¼**ï¼šTailwind CSS 3.4.17
- **ç¼–è¾‘å™¨**ï¼šTipTap 3.4.4 + Vditor

### éƒ¨ç½²æ¶æ„
- **WebæœåŠ¡å™¨**ï¼šNginx
- **åº”ç”¨æœåŠ¡å™¨**ï¼šå†…åµŒTomcatï¼ˆSpring Bootï¼‰
- **æ•°æ®åº“**ï¼šMySQL
- **æ–‡ä»¶å­˜å‚¨**ï¼šæœ¬åœ°æ–‡ä»¶ç³»ç»Ÿ

## âœ¨ æ ¸å¿ƒåŠŸèƒ½

### ç§Ÿæˆ·ç®¡ç†
- ç§Ÿæˆ·åˆ›å»ºå’Œé…ç½®
- åŸŸåç»‘å®šå’Œè®¿é—®æ§åˆ¶
- ç§Ÿæˆ·æ•°æ®éš”ç¦»
- ç§Ÿæˆ·çº§åˆ«é…ç½®ç®¡ç†

### ç”¨æˆ·ç®¡ç†
- ç”¨æˆ·æ³¨å†Œå’Œç™»å½•
- åŸºäºè§’è‰²çš„æƒé™æ§åˆ¶
- ç”¨æˆ·èµ„æ–™ç®¡ç†
- ä¸¤æ­¥éªŒè¯æ”¯æŒ

### å†…å®¹ç®¡ç†
- å¯Œæ–‡æœ¬æ–‡ç« ç¼–è¾‘
- Markdownæ”¯æŒ
- æ–‡ç« åˆ†ç±»å’Œæ ‡ç­¾
- è®¿é—®çº§åˆ«æ§åˆ¶ï¼ˆå…¬å¼€/ä¼šå‘˜/éšç§ï¼‰
- æ–‡ç« å®¡æ ¸æµç¨‹

### å®‰å…¨ç­–ç•¥
- å…¨å±€å¤åˆ¶æƒé™æ§åˆ¶
- æ°´å°åŠŸèƒ½
- IPé»‘ç™½åå•
- ç™»å½•å¤±è´¥é”å®š
- æ“ä½œæ—¥å¿—è®°å½•

### å…¶ä»–åŠŸèƒ½
- æ–‡ç« æ”¶è—
- è¯„è®ºç³»ç»Ÿ
- ç‚¹èµå’Œç»Ÿè®¡
- SEOä¼˜åŒ–
- å“åº”å¼è®¾è®¡

## ğŸ“ é¡¹ç›®ç»“æ„

```
simple-share/
â”œâ”€â”€ backend/                          # åç«¯é¡¹ç›®
â”‚   â”œâ”€â”€ simpleshare-common/           # é€šç”¨æ¨¡å—
â”‚   â”œâ”€â”€ simpleshare-framework/        # æ ¸å¿ƒæ¡†æ¶æ¨¡å—
â”‚   â”œâ”€â”€ simpleshare-module-system/    # ç³»ç»Ÿç®¡ç†æ¨¡å—
â”‚   â”œâ”€â”€ simpleshare-module-article/   # æ–‡ç« ç®¡ç†æ¨¡å—
â”‚   â”œâ”€â”€ simpleshare-module-infra/     # åŸºç¡€è®¾æ–½æ¨¡å—
â”‚   â”œâ”€â”€ simpleshare-server/           # å¯åŠ¨æ¨¡å—
â”‚   â”œâ”€â”€ sql/                          # æ•°æ®åº“è„šæœ¬
â”‚   â”œâ”€â”€ nginx202512/                  # Nginxé…ç½®
â”‚   â””â”€â”€ pom.xml                       # çˆ¶POMæ–‡ä»¶
â”œâ”€â”€ frontend/                         # å‰ç«¯é¡¹ç›®
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ components/               # é€šç”¨ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ views/                    # é¡µé¢ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ portal/               # ç”¨æˆ·ç«¯é¡µé¢
â”‚   â”‚   â”‚   â””â”€â”€ admin/                # ç®¡ç†åå°é¡µé¢
â”‚   â”‚   â”œâ”€â”€ api/                      # APIæ¥å£
â”‚   â”‚   â”œâ”€â”€ stores/                   # çŠ¶æ€ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ router/                   # è·¯ç”±é…ç½®
â”‚   â”‚   â””â”€â”€ utils/                    # å·¥å…·å‡½æ•°
â”‚   â”œâ”€â”€ public/                       # é™æ€èµ„æº
â”‚   â”œâ”€â”€ package.json                  # ä¾èµ–é…ç½®
â”‚   â””â”€â”€ vite.config.ts               # Viteé…ç½®
â”œâ”€â”€ éœ€æ±‚æ–‡æ¡£.md                       # éœ€æ±‚æ–‡æ¡£
â””â”€â”€ README.md                         # é¡¹ç›®è¯´æ˜
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚
- **Node.js**ï¼š^20.19.0 || >=22.12.0
- **Java**ï¼šJDK 8+
- **Maven**ï¼š3.6+
- **MySQL**ï¼š8.0+
- **Nginx**ï¼š1.18+

### 1. å…‹éš†é¡¹ç›®
```bash
git clone https://gitee.com/GreenSoftware/simple-share.git
cd simple-share
```

### 2. æ•°æ®åº“åˆå§‹åŒ–
```bash
# åˆ›å»ºæ•°æ®åº“
mysql -u root -p
CREATE DATABASE `simple-share` CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;

# å¯¼å…¥åˆå§‹åŒ–è„šæœ¬
mysql -u root -p simple-share < backend/sql/init.sql
```

### 3. åç«¯å¯åŠ¨
```bash
cd backend
mvn clean package
cd simpleshare-server
java -jar target/simpleshare-server-1.0.0.jar
```

### 4. å‰ç«¯å¯åŠ¨
```bash
cd frontend
npm install
npm run dev
```

## ğŸ’» æœ¬åœ°å¼€å‘

### åç«¯å¼€å‘ç¯å¢ƒé…ç½®

1. **IDEé…ç½®**
   - æ¨èä½¿ç”¨IntelliJ IDEA
   - å®‰è£…Lombokæ’ä»¶
   - é…ç½®Mavenè®¾ç½®

2. **æ•°æ®åº“é…ç½®**
   ```yaml
   # application.yml
   spring:
     datasource:
       url: jdbc:mysql://localhost:3306/simple-share?useUnicode=true&characterEncoding=utf8&serverTimezone=Asia/Shanghai
       username: root
       password: your_password
   ```

3. **å¯åŠ¨ç±»**
   ```java
   // SimpleShareApplication.java
   @SpringBootApplication
   public class SimpleShareApplication {
       public static void main(String[] args) {
           SpringApplication.run(SimpleShareApplication.class, args);
       }
   }
   ```

### å‰ç«¯å¼€å‘ç¯å¢ƒé…ç½®

1. **ç¯å¢ƒå˜é‡é…ç½®**
   ```bash
   # .env.development
   VITE_API_BASE_URL=http://localhost:8080
   VITE_PROXY_TARGET=http://localhost:8080
   ```

2. **å¼€å‘å‘½ä»¤**
   ```bash
   # å®‰è£…ä¾èµ–
   npm install
   
   # å¯åŠ¨å¼€å‘æœåŠ¡å™¨
   npm run dev
   
   # æ„å»ºç”Ÿäº§ç‰ˆæœ¬
   npm run build
   
   # ä»£ç æ£€æŸ¥
   npm run lint
   
   # æ ¼å¼åŒ–ä»£ç 
   npm run format
   ```

3. **APIä»£ç†é…ç½®**
   ```typescript
   // vite.config.ts
   server: {
     proxy: {
       '/api': {
         target: 'http://localhost:8080',
         changeOrigin: true,
         rewrite: (path) => path.replace(/^\/api/, '')
       }
     }
   }
   ```

## ğŸš€ éƒ¨ç½²æŒ‡å—

### ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²

#### 1. åç«¯éƒ¨ç½²
```bash
# æ„å»ºé¡¹ç›®
cd backend
mvn clean package -Dmaven.test.skip=true

# ä¸Šä¼ jaråŒ…åˆ°æœåŠ¡å™¨
scp backend/simpleshare-server/target/simpleshare-server-1.0.0.jar user@server:/opt/simpleshare/

# å¯åŠ¨æœåŠ¡
nohup java -jar -Dspring.profiles.active=prod /opt/simpleshare/simpleshare-server-1.0.0.jar > /opt/simpleshare/logs/app.log 2>&1 &
```

#### 2. å‰ç«¯éƒ¨ç½²
```bash
# æ„å»ºå‰ç«¯
cd frontend
npm run build

# ä¸Šä¼ distç›®å½•åˆ°æœåŠ¡å™¨
scp -r dist/* user@server:/opt/simpleshare/web/dist/
```

#### 3. Nginxé…ç½®
```bash
# å¤åˆ¶Nginxé…ç½®æ–‡ä»¶
sudo cp backend/nginx202512/nginx.conf /etc/nginx/sites-available/simpleshare
sudo ln -s /etc/nginx/sites-available/simpleshare /etc/nginx/sites-enabled/

# æµ‹è¯•é…ç½®
sudo nginx -t

# é‡å¯Nginx
sudo systemctl restart nginx
```

### Dockeréƒ¨ç½²

æˆ‘ä»¬æä¾›å®Œæ•´çš„ docker-compose ä¸è„šæœ¬ï¼Œæ—¢å¯ä»¥ä¸€é”®æ„å»º/å¯åŠ¨æ•´å¥—æœåŠ¡ï¼Œä¹Ÿå¯ä»¥ç”Ÿæˆé˜¿é‡Œäº‘é•œåƒä¾›å®¢æˆ·ç›´æ¥ `docker run` ä½¿ç”¨ã€‚æ›´å¤šè¯¦æƒ…è¯·å‚é˜… [DOCKER_GUIDE.md](DOCKER_GUIDE.md) ä¸ [QUICK_DEPLOY.md](QUICK_DEPLOY.md)ã€‚

#### æ–¹æ¡ˆ Aï¼šä¸€é”®æ„å»ºå¹¶å¯åŠ¨ï¼ˆå« MySQL/Redisï¼‰
1. å¤åˆ¶å¹¶ä¿®æ”¹ç¯å¢ƒå˜é‡ï¼š
   ```bash
   cp docker/.env.example docker/.env
   ```
2. è¿è¡Œè„šæœ¬ï¼ˆWindows ä½¿ç”¨ `docker-deploy.bat`ï¼‰ï¼š
   ```bash
   ./docker-deploy.sh --tag v1.0.0
   ```
   - è„šæœ¬ä¼šä¾æ¬¡æ„å»ºå‰åç«¯é•œåƒã€è‡ªåŠ¨ç”Ÿæˆ `docker/.env` å¹¶æ‰§è¡Œ `docker compose up -d`
   - è‹¥éœ€è¦æ¨é€é•œåƒï¼Œè¿½åŠ  `--push`
3. æµè§ˆå™¨è®¿é—® `http://localhost:80`ï¼Œå³å¯æ‰“å¼€é—¨æˆ·ç«™ç‚¹ï¼›ç®¡ç† API ç›‘å¬ `http://localhost:8081/api`

#### æ–¹æ¡ˆ Bï¼šæ¨é€è‡³é˜¿é‡Œäº‘é•œåƒä»“åº“
1. è®¾ç½®é•œåƒä¿¡æ¯ï¼ˆå¯å†™å…¥ `.env` æˆ–ç›´æ¥å¯¼å‡ºç¯å¢ƒå˜é‡ï¼‰ï¼š
   ```bash
   export ALI_NAMESPACE=your-namespace
   export ALI_IMAGE_TAG=v1.0.0
   docker login registry.cn-shanghai.aliyuncs.com
   ```
2. æ„å»ºå¹¶æ¨é€ï¼ˆå¦‚æ— éœ€æœ¬åœ° composeï¼Œå¯è¿½åŠ  `--skip-compose`ï¼‰ï¼š
   ```bash
   ./docker-deploy.sh --push --skip-compose --tag v1.0.0
   ```
3. å°†ä»¥ä¸‹å‘½ä»¤å‘é€ç»™å®¢æˆ·ï¼Œå³å¯ä¸€é”®å¯åŠ¨å®¹å™¨å¹¶è®¿é—® `http://localhost:80`ï¼š
   ```bash
   # åç«¯ï¼ˆè¯·å…ˆå‡†å¤‡å¥½æ•°æ®åº“/Redisï¼Œå¹¶æ›¿æ¢ç›¸å…³åœ°å€ï¼‰
   docker run -d \
     -p 8081:8081 \
     --restart always \
     -v /opt/simpleshare/uploads:/app/data/uploads \
     -e SPRING_PROFILES_ACTIVE=prod \
     -e SPRING_DATASOURCE_URL="jdbc:mysql://mysql-host:3306/simple-share?useUnicode=true&characterEncoding=utf8&zeroDateTimeBehavior=convertToNull&useSSL=false&serverTimezone=Asia/Shanghai" \
     -e SPRING_DATASOURCE_USERNAME=simpleshare \
     -e SPRING_DATASOURCE_PASSWORD=Simpleshare@User1 \
     -e REDIS_HOST=redis-host \
     -e REDIS_PORT=6379 \
     --name simpleshare-backend \
     registry.cn-shanghai.aliyuncs.com/your-namespace/simpleshare-backend:v1.0.0

   # å‰ç«¯
   docker run -d \
     -p 80:80 \
     --restart always \
     -e BACKEND_HOST=<backend-service-host> \
     -e BACKEND_PORT=8081 \
     --name simpleshare-portal \
     registry.cn-shanghai.aliyuncs.com/your-namespace/simpleshare-frontend:v1.0.0
   ```
   å‰ç«¯å®¹å™¨å†…ç½® Nginxï¼Œå¹¶è‡ªåŠ¨å°† `/api` è¯·æ±‚ä»£ç†åˆ°é…ç½®çš„åç«¯åœ°å€ã€‚

## âš™ï¸ ç¯å¢ƒé…ç½®

### åç«¯é…ç½®é¡¹

| é…ç½®é¡¹ | è¯´æ˜ | é»˜è®¤å€¼ |
|--------|------|--------|
| `spring.datasource.url` | æ•°æ®åº“è¿æ¥åœ°å€ | - |
| `spring.datasource.username` | æ•°æ®åº“ç”¨æˆ·å | - |
| `spring.datasource.password` | æ•°æ®åº“å¯†ç  | - |
| `server.port` | æœåŠ¡ç«¯å£ | 8080 |
| `jwt.secret` | JWTå¯†é’¥ | - |
| `jwt.expiration` | JWTè¿‡æœŸæ—¶é—´ | 86400ç§’ |

### å‰ç«¯é…ç½®é¡¹

| é…ç½®é¡¹ | è¯´æ˜ | é»˜è®¤å€¼ |
|--------|------|--------|
| `VITE_APP_TITLE` | åº”ç”¨æ ‡é¢˜ | ç®€äº« |
| `VITE_API_BASE_URL` | APIåŸºç¡€åœ°å€ | /api |
| `VITE_APP_WATERMARK_TEXT` | æ°´å°æ–‡æœ¬ | ç®€äº« |
| `VITE_ENABLE_USER_REGISTRATION` | æ˜¯å¦å…è®¸ç”¨æˆ·æ³¨å†Œ | true |

## ğŸ“š APIæ–‡æ¡£

### è®¤è¯æ¥å£
```
POST /api/auth/login          # ç”¨æˆ·ç™»å½•
POST /api/auth/register       # ç”¨æˆ·æ³¨å†Œ
POST /api/auth/logout         # ç”¨æˆ·ç™»å‡º
POST /api/auth/refresh        # åˆ·æ–°Token
```

### æ–‡ç« æ¥å£
```
GET    /api/articles          # è·å–æ–‡ç« åˆ—è¡¨
POST   /api/articles          # åˆ›å»ºæ–‡ç« 
GET    /api/articles/{id}     # è·å–æ–‡ç« è¯¦æƒ…
PUT    /api/articles/{id}     # æ›´æ–°æ–‡ç« 
DELETE /api/articles/{id}     # åˆ é™¤æ–‡ç« 
```

### ç³»ç»Ÿç®¡ç†æ¥å£
```
GET /api/system/users         # è·å–ç”¨æˆ·åˆ—è¡¨
GET /api/system/roles         # è·å–è§’è‰²åˆ—è¡¨
GET /api/system/menus         # è·å–èœå•åˆ—è¡¨
```

å®Œæ•´çš„APIæ–‡æ¡£å¯é€šè¿‡Swagger UIè®¿é—®ï¼š
```
http://localhost:8080/doc.html
```

## ğŸ¤ è´¡çŒ®æŒ‡å—

1. Fork é¡¹ç›®
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. æ‰“å¼€ Pull Request

### ä»£ç è§„èŒƒ
- åç«¯éµå¾ªé˜¿é‡Œå·´å·´Javaå¼€å‘æ‰‹å†Œ
- å‰ç«¯éµå¾ªESLinté…ç½®
- æäº¤ä¿¡æ¯éµå¾ªConventional Commitsè§„èŒƒ

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ - æŸ¥çœ‹ [LICENSE](LICENSE) æ–‡ä»¶äº†è§£è¯¦æƒ…ã€‚

---

## ğŸ“ è”ç³»æ–¹å¼

- é¡¹ç›®åœ°å€ï¼š[https://gitee.com/GreenSoftware/simple-share](https://gitee.com/GreenSoftware/simple-share)
- é—®é¢˜åé¦ˆï¼š[Issues](https://gitee.com/GreenSoftware/simple-share/issues)
- é‚®ç®±ï¼šsupport@easyjx.cn

---

**Â© 2025 SimpleShare. ä¿ç•™æ‰€æœ‰æƒåˆ©.**
